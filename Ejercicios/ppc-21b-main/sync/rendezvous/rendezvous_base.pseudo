main:
  shared a1_ready := semaphore(?)
  shared b1_ready := semaphore(?)
  create_thread(thread_a)
  create_thread(thread_b)

thread_a:
  statement a1
  statement a2

thread_b:
  statement b1
  statement b2
